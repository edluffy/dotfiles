call plug#begin('~/.vim/plugged')
Plug 'sheerun/vim-polyglot'
Plug 'natebosch/vim-lsc'
call plug#end()

set rtp+=/usr/local/opt/fzf

let g:lsc_server_commands = {
    \ 'c': { 'command': 'clangd', 'suppress_stderr': v:true },
    \ 'cpp': { 'command': 'clangd', 'suppress_stderr': v:true }}

let g:lsc_auto_completeopt='menu,menuone,noinsert,noselect'
let g:lsc_auto_map = v:true
let g:lsc_reference_highlights = v:false
let g:lsc_trace_level = 'off'
highlight link lscDiagnosticError SpellBad

" Theming
let g:material_theme_style = 'palenight'
colorscheme material

" Sensible defaults for writing text
filetype plugin indent on
set autoindent
set backspace=indent,eol,start
set smarttab
set clipboard^=unnamed
set signcolumn=yes
set shortmess+=c
set incsearch
match WarningMsg /\%>80c/

" Sensible defaults for UI appearance
syntax enable
set termguicolors
set laststatus=2
set number
set ruler
set wildmenu
set splitright

" Tweaks to speed up vim
set nottyfast
set lazyredraw
set synmaxcol=180

" FZF Settings
let g:fzf_height=15
map ee :FZF ~<cr>
map rr :FZF <cr>
"map ff :Lines <cr>

" Brackets
inoremap " ""<left>
inoremap ' ''<left>
inoremap ( ()<left>
inoremap [ []<left>
inoremap { {}<left>
inoremap {<CR> {<CR>}<ESC>O
inoremap {;<CR> {<CR>};<ESC>O

" Tab completion
inoremap <expr> <Tab> pumvisible() ? "\<C-n>" : "\<Tab>"
inoremap <expr> <S-Tab> pumvisible() ? "\<C-p>" : "\<S-Tab>"
inoremap <expr> <cr> pumvisible() ? "\<C-y>" : "\<cr>"

" Pane movement
noremap <C-h> <C-w>h
noremap <C-j> <C-w>j
noremap <C-k> <C-w>k
noremap <C-l> <C-w>l
